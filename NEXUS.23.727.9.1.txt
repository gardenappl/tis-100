@0
    MOV 8,ACC
INI:MOV 0,LEFT
    SUB 1
    JGZ INI
    MOV -1,LEFT
BEG:MOV UP,ACC
    JEZ WRI
    MOV UP,DOWN
    MOV 1,DOWN#REA
    JMP BEG
WRI:MOV UP,DOWN
    MOV 4,DOWN#WRI
    MOV UP,DOWN
    JMP BEG

@1


@2


@3
BEG:MOV RIGHT,ACC
GET:MOV UP,DOWN
    SUB 1
    JGZ GET
    MOV UP,ACC
-IN:JRO RIGHT
REA:MOV ACC,RIGHT
    MOV ACC,UP
    JMP RET
WRI:MOV RIGHT,UP
RET:MOV RIGHT,ACC
REL:MOV DOWN,UP
    SUB 1
    JGZ REL

@4
    MOV UP,ACC
    ADD 1
    MOV ACC,LEFT
-IN:JRO UP
REA:MOV 1,LEFT#REA
    MOV LEFT,DOWN
    JMP END
WRI:MOV 4,LEFT#WRI
    MOV UP,LEFT
END:MOV ACC,LEFT

@5


@6


@7
MOV UP,DOWN

@8

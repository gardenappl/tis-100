@0
    MOV 8,ACC
INI:MOV 0,LEFT
    SUB 1
    JGZ INI
    #MOV -1,LEFT
BEG:MOV UP,ACC
    JEZ WRI
    MOV UP,DOWN
    MOV 1,DOWN#REA
    JMP BEG
WRI:MOV UP,DOWN
    MOV 4,DOWN#WRI
    MOV UP,DOWN
    JMP BEG

@1


@2
END:MOV 1,RIGHT#BE
BEG:MOV RIGHT,ACC
RET:JEZ END
    MOV 14,RIGHT#M
    SUB 1
    JMP RET

@3
-RE:JRO LEFT
BEG:MOV RIGHT,ACC
GET:JEZ GOT
    MOV UP,DOWN
    SUB 1
    JMP GET
GOT:MOV UP,ACC
-IN:JRO RIGHT
REA:MOV ACC,RIGHT
    MOV ACC,UP
    JMP RET
WRI:MOV RIGHT,UP
RET:MOV RIGHT,LEFT
    JMP -RE
MOV:MOV DOWN,UP

@4
    MOV UP,ACC
    MOV ACC,LEFT
-IN:JRO UP
REA:MOV 1,LEFT#REA
    MOV LEFT,DOWN
    JMP END
WRI:MOV 4,LEFT#WRI
    MOV UP,LEFT
END:MOV ACC,LEFT

@5


@6


@7
MOV UP,DOWN

@8

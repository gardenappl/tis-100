@0
    MOV 30,ACC
    JRO DOWN
NOP:SUB 1
    JGZ NOP
    MOV 1,RIGHT#CO

@1
-IN:JRO LEFT
CO1:MOV 16,ACC
OF1:MOV 0,DOWN
    MOV ACC,DOWN
    SUB 1
    JGZ OF1
    MOV 16,ACC
OF2:MOV -29,DOWN
    MOV ACC,DOWN
    SUB 1
    JGZ OF2
    MOV 1,RIGHT#CO

@2
-IN:JRO LEFT
CO3:MOV 12,ACC
OF3:MOV 1,DOWN#MOV
    MOV 2,DOWN
    MOV ACC,DOWN
    SUB 1
    JGZ OF3
    MOV 12,ACC
OF4:MOV 1,DOWN#MOV
    MOV -27,DOWN
    MOV ACC,DOWN
    SUB 1
    JGZ OF4
    MOV 4,DOWN#CO5

@3
MOV DOWN,RIGHT

@4
-IN:JRO LEFT
LI2:MOV -17,DOWN
    MOV 30,DOWN
    MOV -15,DOWN
    MOV 26,DOWN
    MOV -13,DOWN
    MOV 22,DOWN
    MOV -11,DOWN
    MOV 18,DOWN
    MOV -9,DOWN
    MOV 14,DOWN
    MOV 1,UP#NOP

@5
    MOV ANY,ACC
DRW:JLZ MIR
    MOV ACC,DOWN
    ADD LAST
    JMP WRY
MIR:NEG
    MOV ACC,DOWN
    SUB 29
    NEG
    ADD LAST
WRY:MOV ACC,DOWN
    MOV 3,DOWN
    MOV -1,DOWN

@6
-IN:JRO ANY
MOV:MOV LAST,LEFT
    MOV LAST,LEFT
    JMP -IN
CO5:MOV 8,ACC
OF5:MOV 4,LEFT
    MOV ACC,LEFT
    SUB 1
    JGZ OF5
    MOV 8,ACC
OF6:MOV -25,LEFT
    MOV ACC,LEFT
    SUB 1
    JGZ OF6
    MOV 1,DOWN#CO7

@7
    MOV 0,RIGHT
    MOV 30,RIGHT
    MOV 2,RIGHT
    MOV 26,RIGHT
    MOV 4,RIGHT
    MOV 22,RIGHT
    MOV 6,RIGHT
    MOV 18,RIGHT
    MOV 8,RIGHT
    MOV 14,RIGHT
    MOV 1,UP#LI2
END:JMP END

@8
    MOV ANY,ACC
    JLZ MIR
    MOV ACC,RIGHT
    JMP WRY
MIR:ADD 17
    MOV ACC,RIGHT
    SUB 17
    NEG
WRY:MOV ACC,RIGHT
    MOV LAST,ACC
LIN:MOV 3,RIGHT
    SUB 1
    JGZ LIN
    MOV -1,RIGHT

@9
MOV ANY,DOWN

@10
-IN:JRO UP
CO7:MOV 4,ACC
OF7:MOV 1,UP#MO
    MOV 6,UP
    MOV ACC,UP
    SUB 1
    JGZ OF7
    MOV 4,ACC
OF8:MOV 1,UP#MOV
    MOV -23,UP
    MOV ACC,UP
    SUB 1
    JGZ OF8
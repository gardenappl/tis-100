@0
RES:MOV 999,ACC
-IN:JRO ANY
SET:MOV LAST,ACC
    JMP -IN
GET:MOV ACC,LAST
    MOV ACC,LAST
    JMP -IN

@1
NXT:MOV UP,ACC
    JLZ END
    MOV 3,LEFT#GET
    SUB LEFT
    JGZ PAS
    ADD LEFT
    MOV 1,LEFT#SET
    MOV ACC,LEFT
    MOV ACC,RIGHT
    JMP NXT
END:!MOV 1,DOWN#EN
-IN:JRO DOWN
PAS:ADD LEFT
    MOV ACC,LEFT
    MOV ACC,RIGHT

@2


@3
-IN:JRO RIGHT
RES:MOV -1,UP#RES
    JMP -IN
GET:MOV 3,UP#GET
    MOV UP,RIGHT
    MOV UP,NIL

@4
-IN:JRO ANY
END:MOV 1,RIGHT#BE
    MOV 3,LEFT#GET
    MOV LEFT,ACC
    JMP -IN
SEQ:MOV 1,LEFT#RES
    MOV -11,UP#NXT
    JMP -IN
GET:MOV ACC,RIGHT

@5
    MOV -1,UP
RES:MOV -1,RIGHT
-IN:JRO LEFT
BEG:MOV UP,ACC
    JLZ SEQ
    MOV 8,LEFT#GET
    SUB LEFT
    MOV ACC,RIGHT
    JMP BEG
SEQ:MOV 5,LEFT#SEQ
    MOV -1,UP
    MOV 1,DOWN
-DW:JRO DOWN

@6


@7
-IN:JRO UP
BEG:MOV 1,RIGHT#GE
    MOV RIGHT,ACC
    JLZ SEQ
    MOV ACC,DOWN
    JMP BEG
SEQ:MOV -11,UP#RES
    MOV -1,DOWN

@8
-IN:JRO LEFT
GET:MOV UP,LEFT